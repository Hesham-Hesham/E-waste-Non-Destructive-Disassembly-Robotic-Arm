import rospy
from helper.robot_helper import *
import math
import numpy as np
#def constants
recess=0.005
fs=2*recess
N_s=60
fixederror=2.5 #(mm)
rospy.init_node("SpiralGeneration")
#calculate the parameters of the spiral
tmax=int(((10*math.pi)/N_s)*(math.ceil(N_s/2)))
frames=frames_transformations()
x=0
for i in np.arange(0,tmax,0.001):
    t=i
    x,y=(fs/math.pi)*math.sqrt(((8*math.pi*N_s*t)/15))*math.cos(math.sqrt(((8*math.pi*N_s*t)/15))),(fs/math.pi)*math.sqrt(((8*math.pi*N_s*t)/15))*math.sin(math.sqrt(((8*math.pi*N_s*t)/15)))
    yaw,pitch,roll=0,0,math.sqrt(((8*math.pi*N_s*t)/15))
    frames.put_frame_static_frame("map","screwdriver_link"+str(x),[x,y,0,0,0,roll])
    x+=1
    
